<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Задачи на java script</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
<h1>Примеры на JavaScript</h1>
<script>
  //генерация случайного числа в заданном диапазоне
  function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }
  function task1() {
    const arr = new Array(15);
    let sum = 0;
    let positiveCount = 0;

    for (let i = 0; i < arr.length; i++) {
      arr[i] = getRandomInt(-10, 30);

      if (arr[i] > 0) {
        sum += arr[i];
        positiveCount++;
      }
    }
    //вычисление среднего ариф полож чисел, если кол-во полож чисел больше 0 и присваивает 0 если полож чисел нет
    const average = positiveCount > 0 ? sum / positiveCount : 0;
    console.log('Массив:', arr);
    console.log('Среднее арифметическое положительных элементов:', average);
  }

  function task2() {
    const n = 20;
    const arr = new Array(n);

    for (let i = 0; i < arr.length; i++) {
      arr[i] = getRandomInt(-10, 30);

      if (arr[i] < 0) {
        arr[i] *= arr[i];
      }
    }
    console.log('Обновленный массив:', arr);
    return arr;
  }

  function task3() {
    const arr = task2(); // Получаем обновленный массив из задачи 2
    let positiveSum = 0;
    let positiveCount = 0;
    let negativeSum = 0;
    let negativeCount = 0;
    let zeroCount = 0;

    for (let i = 0; i < arr.length; i++) {
      if (arr[i] > 0) {
        positiveSum += arr[i];
        positiveCount++;
      } else if (arr[i] < 0) {
        negativeSum += arr[i];
        negativeCount++;
      } else {
        zeroCount++;
      }
    }

    const positiveAverage = positiveCount > 0 ? positiveSum / positiveCount : 0;
    const negativeAverage = negativeCount > 0 ? negativeSum / negativeCount : 0;

    console.log('Среднее арифметическое положительных чисел:', positiveAverage);
    console.log('Среднее арифметическое отрицательных чисел:', negativeAverage);
    console.log('Количество нулей:', zeroCount);
  }

  function task4() {
    const simulations = 1000000;
    let maxRedStreak = 0;
    let currentRedStreak = 0;

    for (let i = 0; i < simulations; i++) {
      const result = getRandomInt(0, 2);
      //0 - красное значение
      if (result === 0) { //подсчитываем текущую последовательность и сравниваем её с максимальной
        currentRedStreak++;
        if (currentRedStreak > maxRedStreak) {
          maxRedStreak = currentRedStreak;
        }
      } else {
        currentRedStreak = 0;
      }
    }
    console.log('Максимальное число раз, выпадало красное значение:', maxRedStreak);
  }

</script>
<button onclick="task1()">Задание 1</button>
<button onclick="task2()">Задание 2</button>
<button onclick="task3()">Задание 3</button>
<button onclick="task4()">Задание 4</button>
</body>
</html>
